document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("current_replicas"),b=document.getElementById("current_metric_value"),c=document.getElementById("target_metric_value"),d=document.getElementById("xAxisSelect"),e=document.getElementById("replicasChart").getContext("2d"),f=createChart(e);[a,b,c,d].forEach(e=>{e.addEventListener("change",()=>updateChart(f,a,b,c,d))}),updateChart(f,a,b,c,d)});function createChart(a){return new Chart(a,{type:"line",data:{labels:[],datasets:[{label:"Desired Replicas",backgroundColor:"rgba(58, 134, 255, 1)",borderColor:"rgba(58, 134, 255, 1)",data:[],fill:!1,pointRadius:0},{label:"Current Value",data:[],backgroundColor:"rgba(251, 86, 7, 1)",borderColor:"rgba(251, 86, 7, 1)",borderWidth:2,fill:!1,pointRadius:0,showLine:!0}]},options:{scales:{x:{type:"linear",position:"bottom"},y:{beginAtZero:!0,title:{display:!0,text:"Desired Replicas"}}},plugins:{zoom:{pan:{enabled:!0,mode:"xy"},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"xy"}}}}})}function updateChart(a,b,c,d,e){var f=Math.ceil;let g=parseInt(b.value),h=parseFloat(c.value),i=parseFloat(d.value),j=e.value,k=[],l=[],m=0;"current_metric"===j?(x_axis_label="Current Metric Value",x_axis_metric=h,calculateReplicas=a=>f(g*(a/i))):"target_metric"===j?(x_axis_label="Target Metric Value",x_axis_metric=i,calculateReplicas=a=>f(g*(h/a))):"replicas"===j?(x_axis_label="Current Replicas",x_axis_metric=g,calculateReplicas=a=>f(a*(h/i)),m=1):void 0;let n=5*x_axis_metric;for(let f=m;f<=n;f+=x_axis_metric/1e3){k.push(f);let a=calculateReplicas(f);l.push(a)}let o=Math.max(...l.filter(a=>a!==1/0)),p=Math.min(x_axis_metric-1/2*x_axis_metric,m);a.data.labels=k,a.data.datasets[0].data=l,a.data.datasets[1].data=[{x:x_axis_metric,y:0},{x:x_axis_metric,y:o}],a.resetZoom(),a.options.scales.x.min=x_axis_metric-1/2*x_axis_metric,a.options.scales.x.max=x_axis_metric+1/2*x_axis_metric,a.options.scales.y.max=calculateReplicas(x_axis_metric)+2,a.update()}