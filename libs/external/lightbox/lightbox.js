function is_youtubelink(a){return!!a.match(/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/)&&RegExp.$1}function is_imagelink(a){return!!a.match(/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i)}function is_vimeolink(a,b){var c=!1,d=new XMLHttpRequest;d.onreadystatechange=function(){if(d.readyState==XMLHttpRequest.DONE)if(200==d.status){var a=JSON.parse(d.responseText);c=a.video_id,console.log(c),b.classList.add("lightbox-vimeo"),b.setAttribute("data-id",c),b.addEventListener("click",function(a){a.preventDefault(),document.getElementById("lightbox").innerHTML="<a id=\"close\"></a><a id=\"next\">&rsaquo;</a><a id=\"prev\">&lsaquo;</a><div class=\"videoWrapperContainer\"><div class=\"videoWrapper\"><iframe src=\"https://player.vimeo.com/video/"+b.getAttribute("data-id")+"/?autoplay=1&byline=0&title=0&portrait=0\" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div>",document.getElementById("lightbox").style.display="block",setGallery(this)})}else 400==d.status?alert("There was an error 400"):alert("something else other than 200 was returned")},d.open("GET","https://vimeo.com/api/oembed.json?url="+a,!0),d.send()}function setGallery(a){var b=document.body.querySelectorAll(".gallery");if(b.forEach(a=>{a.classList.remove("gallery")}),a.closest("ul, p")){var c=a.closest("ul, p").querySelectorAll("a[class*='lightbox-']");c.forEach(a=>{a.classList.remove("current")}),c.forEach(b=>{a.getAttribute("href")==b.getAttribute("href")&&b.classList.add("current")}),1<c.length&&(document.getElementById("lightbox").classList.add("gallery"),c.forEach(a=>{a.classList.add("gallery")}));var d,e=document.querySelectorAll("a.gallery");if(Object.keys(e).forEach(function(a){e[a].classList.contains("current")&&(d=a)}),d==e.length-1)var f=0;else var f=parseInt(d)+1;if(0==d)var g=parseInt(e.length-1);else var g=parseInt(d)-1;document.getElementById("next").addEventListener("click",function(){e[f].click()}),document.getElementById("prev").addEventListener("click",function(){e[g].click()})}}document.addEventListener("DOMContentLoaded",function(){var a=document.createElement("div");a.setAttribute("id","lightbox"),document.body.appendChild(a);var b=document.querySelectorAll("a");b.forEach(a=>{var b=a.getAttribute("href");if(b&&(-1===b.indexOf("vimeo")||a.classList.contains("no-lightbox")||is_vimeolink(b,a),is_youtubelink(b)&&!a.classList.contains("no-lightbox")&&(a.classList.add("lightbox-youtube"),a.setAttribute("data-id",is_youtubelink(b))),is_imagelink(b)&&!a.classList.contains("no-lightbox"))){a.classList.add("lightbox-image");var c=a.getAttribute("href"),d=c.split("/").pop(),e=d.split("."),f=e[0];a.setAttribute("title",f)}}),document.getElementById("lightbox").addEventListener("click",function(a){"next"!=a.target.id&&"prev"!=a.target.id&&(this.innerHTML="",document.getElementById("lightbox").style.display="none")});var b=document.querySelectorAll("a.lightbox-youtube");b.forEach(a=>{a.addEventListener("click",function(a){a.preventDefault(),document.getElementById("lightbox").innerHTML="<a id=\"close\"></a><a id=\"next\">&rsaquo;</a><a id=\"prev\">&lsaquo;</a><div class=\"videoWrapperContainer\"><div class=\"videoWrapper\"><iframe src=\"https://www.youtube.com/embed/"+this.getAttribute("data-id")+"?autoplay=1&showinfo=0&rel=0\"></iframe></div>",document.getElementById("lightbox").style.display="block",setGallery(this)})});var b=document.querySelectorAll("a.lightbox-image");b.forEach(a=>{a.addEventListener("click",function(a){a.preventDefault(),document.getElementById("lightbox").innerHTML="<a id=\"close\"></a><a id=\"next\">&rsaquo;</a><a id=\"prev\">&lsaquo;</a><div class=\"img\" style=\"background: url('"+this.getAttribute("href")+"') center center / contain no-repeat;\" title=\""+this.getAttribute("title")+"\" ><img src=\""+this.getAttribute("href")+"\" alt=\""+this.getAttribute("title")+"\" /></div><span>"+this.getAttribute("title")+"</span>",document.getElementById("lightbox").style.display="block",setGallery(this)})})});